# OTUS ДЗ №26. Резервное копирование. #
-----------------------------------------------------------------------
## Домашнее задание ##

1. реализовать knocking port
2. добавить inetRouter2, который виден(маршрутизируется (host-only тип сети для виртуалки)) с хоста или форвардится порт через локалхост.
3. запустить nginx на centralServer.
4. пробросить 80й порт на inetRouter2 8080.
5. дефолт в инет оставить через inetRouter.
* реализовать проход на 80й порт без маскарадинга

-----------------------------------------------------------------------
## Результат ##

Для поднятия стенда использовать команду ```vagrant up```

  - Для проверки подключения через knoking port необходимо:
    * Войти в centralroute ```vagrant ssh centralrouter```
    * Попробовать подключиться без knoking port : ```ssh 192.168.255.1```, убедиться, что подключение не проходит.
    * Выполнить ```/vagrant/knock.sh 192.168.255.1 8881 7777 9991 && ssh 192.168.255.1``` ( пароль ```vagrant``` ), увидеть, что подключение к inetRouter произошло успешно.
* Для проверки доступа к nginx через inetRouter2 можно:
    * Войти в inetRouter2 : ```vagrant ssh inetrouter2```
    * Сделать запросы ```curl http://192.168.255.2:8080```, ```curl http://10.0.2.15:8080```, убедиться, что nginx корректно отдаёт страницу.
* Для проверки доступа в интернет через inetRouter, достаточно сделать трассировку с centralserver: 
```
[root@centralserver ~]# traceroute 8.8.8.8
traceroute to 8.8.8.8 (8.8.8.8), 30 hops max, 60 byte packets
 1  gateway (192.168.0.1)  0.411 ms  0.341 ms  0.251 ms
 2  192.168.255.1 (192.168.255.1)  0.490 ms  0.431 ms  0.429 ms
 3  * * *
 4  * * *
 5  dns.google (8.8.8.8)  51.379 ms  51.300 ms  51.882 ms
```
